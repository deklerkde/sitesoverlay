<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Overlay Tool - Bookmarklet</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }
        .bookmarklet-box {
            text-align: center;
            margin: 40px 0;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
        }
        .bookmarklet {
            display: inline-block;
            background: white;
            color: #667eea;
            padding: 15px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .bookmarklet:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
        }
        .bookmarklet-instructions {
            color: white;
            margin-top: 15px;
            font-size: 14px;
        }
        .instructions {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin: 30px 0;
            border-left: 4px solid #667eea;
        }
        .instructions h3 {
            margin-top: 0;
            color: #333;
        }
        .instructions ol {
            margin: 15px 0;
            padding-left: 20px;
        }
        .instructions li {
            margin: 10px 0;
            line-height: 1.6;
        }
        .instructions ul {
            margin: 5px 0;
            padding-left: 20px;
        }
        kbd {
            background: #eee;
            border: 1px solid #ccc;
            border-radius: 3px;
            padding: 2px 6px;
            font-family: monospace;
            font-size: 0.9em;
        }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        .feature {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
            text-align: center;
        }
        .feature-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        .feature-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        .feature-desc {
            font-size: 13px;
            color: #666;
        }
        .note {
            background: #fff3cd;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            border-left: 4px solid #ffc107;
            color: #856404;
        }
        .code-box {
            background: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            font-family: monospace;
            font-size: 12px;
            overflow-x: auto;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìê Component Overlay Tool</h1>
        <p class="subtitle">Visualize your page structure with interactive overlays</p>
        
        <div class="bookmarklet-box">
            <a href='javascript:(function(){var s=document.createElement("script");s.src="https://deklerkde.github.io/sitesoverlay/overlay.js";document.head.appendChild(s);})();' class="bookmarklet" id="bookmarklet-link">
                üìê Component Overlay Tool
            </a>
            <p class="bookmarklet-instructions">
                ‚¨ÜÔ∏è Drag this button to your bookmarks bar
            </p>
        </div>

        <div class="instructions">
            <h3>üöÄ How to Install</h3>
            <ol>
                <li><strong>Show your bookmarks bar</strong>
                    <ul>
                        <li>Chrome/Edge: Press <kbd>Ctrl+Shift+B</kbd> (Windows) or <kbd>Cmd+Shift+B</kbd> (Mac)</li>
                        <li>Firefox: Press <kbd>Ctrl+B</kbd> (Windows) or <kbd>Cmd+B</kbd> (Mac)</li>
                        <li>Safari: Go to View ‚Üí Show Favorites Bar</li>
                    </ul>
                </li>
                <li><strong>Drag the button above</strong> to your bookmarks bar</li>
                <li><strong>Navigate to any webpage</strong> you want to analyze</li>
                <li><strong>Click the bookmarklet</strong> in your bookmarks bar</li>
                <li><strong>See the overlays</strong> appear with a control panel in the top-right</li>
            </ol>
        </div>

        <div class="note">
            <strong>‚ö†Ô∏è Setup Required:</strong> This bookmarklet loads from a CDN. You need to:
            <ol style="margin: 10px 0; padding-left: 20px;">
                <li>Host the overlay.js file on GitHub</li>
                <li>Update the URL in the bookmarklet above</li>
                <li>OR use the standalone version below</li>
            </ol>
        </div>

        <h3>Alternative: Self-Contained Bookmarklet</h3>
        <p>Copy this code and manually create a bookmark with it (no external hosting needed):</p>
        
        <div class="code-box" id="standalone-code">
            <button onclick="copyStandaloneCode()" style="float: right; padding: 5px 10px; cursor: pointer;">Copy</button>
            <div style="clear: both;"></div>
            Loading...
        </div>

        <div class="features">
            <div class="feature">
                <div class="feature-icon">üé®</div>
                <div class="feature-title">Color Coded</div>
                <div class="feature-desc">Different colors for layouts, articles, widgets, and ads</div>
            </div>
            <div class="feature">
                <div class="feature-icon">‚úÖ</div>
                <div class="feature-title">Toggle Categories</div>
                <div class="feature-desc">Show/hide specific component types with checkboxes</div>
            </div>
            <div class="feature">
                <div class="feature-icon">üè∑Ô∏è</div>
                <div class="feature-title">Smart Labels</div>
                <div class="feature-desc">Uses HTML comments for accurate component names</div>
            </div>
            <div class="feature">
                <div class="feature-icon">üì±</div>
                <div class="feature-title">Works Anywhere</div>
                <div class="feature-desc">Use on any website in any browser</div>
            </div>
        </div>

        <div class="note">
            <strong>üí° Manual Installation:</strong> Right-click your bookmarks bar ‚Üí "Add page/bookmark" ‚Üí Paste the code above as the URL
        </div>
    </div>

    <script>
        // Generate the standalone bookmarklet code
        const standaloneCode = `javascript:(function(){const o=document.getElementById('ds-ghost-stage');o&&o.remove();const e=document.createElement('div');e.id='ds-ghost-stage',Object.assign(e.style,{position:'absolute',top:'0',left:'0',width:'100%25',height:document.body.scrollHeight+'px',pointerEvents:'none',zIndex:'999999'}),document.body.appendChild(e);function t(o,t,l,a,r){const n=o.getBoundingClientRect();if(0===n.width&&0===n.height)return;const d=document.createElement('div');r&&d.setAttribute(r,'true'),Object.assign(d.style,{position:'absolute',top:n.top+window.scrollY+'px',left:n.left+window.scrollX+'px',width:n.width+'px',height:n.height+'px',border:'3px '+a+' '+l,backgroundColor:l+'18',boxSizing:'border-box',zIndex:'100'});const s=document.createElement('div');s.innerText=t,Object.assign(s.style,{position:'absolute',top:'-22px',left:'0',background:l,color:'%23fff',fontSize:'12px',fontWeight:'bold',padding:'4px 8px',whiteSpace:'nowrap',borderRadius:'3px'}),d.appendChild(s),e.appendChild(d)}const l=new Set;[{selector:'.tf-lhs-col',label:'LHS Column',color:'%23ff0055'},{selector:'.tf-rhs-col',label:'RHS Column',color:'%23ff6600'},{selector:'.header',label:'Header',color:'%239933ff'},{selector:'.footer',label:'Footer',color:'%23666666'}].forEach(function(o){const e=document.querySelector(o.selector);e&&!l.has(e)&&(t(e,o.label,o.color,'solid','data-overlay-layout'),l.add(e))}),document.querySelectorAll('.article-list--container').forEach(function(o){if(!l.has(o)){let e='Article List Container',a=o.previousSibling;for(;a;){if(a.nodeType===8){const o=a.nodeValue.trim();if(o&&o.length%3E3&&!o.includes('---')){e=o;break}}a=a.previousSibling}t(o,e,'%230066cc','solid','data-overlay-article'),l.add(o)}}),document.querySelectorAll('%5Bdata-adname%5D').forEach(function(o){if(!l.has(o)){const e=o.getAttribute('data-adname');t(o,'AD: '+e,'%23bc13fe','solid','data-overlay-ads'),l.add(o)}});const a=document.createElement('div');Object.assign(a.style,{position:'fixed',top:'10px',right:'10px',background:'rgba(0,0,0,0.92)',color:'%23fff',padding:'12px',fontSize:'12px',zIndex:'1000000',borderRadius:'6px',maxWidth:'240px',boxShadow:'0 4px 12px rgba(0,0,0,0.5)'});const r=[{id:'layout',label:'Layout Sections',color:'%23ff0055',attr:'data-overlay-layout'},{id:'articles',label:'Article Containers',color:'%230066cc',attr:'data-overlay-article'},{id:'ads',label:'Ad Slots',color:'%23bc13fe',attr:'data-overlay-ads'}];a.innerHTML='%3Cdiv style="font-weight:bold;margin-bottom:10px;font-size:13px"%3EComponent Overview%3C/div%3E'+r.map(function(o){return'%3Clabel style="display:flex;align-items:center;margin:8px 0;cursor:pointer"%3E%3Cinput type="checkbox" id="toggle-'+o.id+'" data-overlay-type="'+o.attr+'" checked style="margin-right:8px;cursor:pointer;width:14px;height:14px"%3E%3Cspan style="color:'+o.color+';margin-right:8px;font-size:16px"%3E‚ñ†%3C/span%3E%3Cspan style="font-size:11px"%3E'+o.label+'%3C/span%3E%3C/label%3E'}).join('')+'%3Cdiv style="margin-top:12px;padding-top:12px;border-top:1px solid %23666"%3E%3Cbutton id="toggle-all-btn" style="width:100%25;padding:6px;cursor:pointer;margin-bottom:6px;border-radius:3px;border:none;background:%23444;color:%23fff"%3EToggle All%3C/button%3E%3Cbutton id="remove-overlays-btn" style="width:100%25;padding:6px;cursor:pointer;border-radius:3px;border:none;background:%23d32f2f;color:%23fff"%3ERemove Overlays%3C/button%3E%3C/div%3E',document.body.appendChild(a),r.forEach(function(o){document.getElementById('toggle-'+o.id).addEventListener('change',function(t){e.querySelectorAll('%5B'+o.attr+'%5D').forEach(function(o){o.style.display=t.target.checked?'block':'none'})})}),document.getElementById('remove-overlays-btn').addEventListener('click',function(){e.remove(),a.remove()}),document.getElementById('toggle-all-btn').addEventListener('click',function(){const o=a.querySelectorAll('input%5Btype="checkbox"%5D'),e=Array.from(o).every(function(o){return o.checked});o.forEach(function(o){o.checked=!e,o.dispatchEvent(new Event('change'))})})})();`;

        document.getElementById('standalone-code').innerHTML = `
            <button onclick="copyStandaloneCode()" style="float: right; padding: 5px 10px; cursor: pointer; background: #667eea; color: white; border: none; border-radius: 4px;">Copy</button>
            <div style="clear: both; margin-bottom: 10px;"></div>
            ${standaloneCode}
        `;

        function copyStandaloneCode() {
            navigator.clipboard.writeText(standaloneCode).then(() => {
                alert('Bookmarklet code copied! Now:\\n1. Right-click your bookmarks bar\\n2. Select "Add page" or "Add bookmark"\\n3. Paste this as the URL\\n4. Give it a name like "Component Overlay"');
            });
        }
    </script>
</body>
</html>
